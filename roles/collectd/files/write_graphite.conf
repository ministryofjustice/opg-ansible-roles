{%- from "opg-collectd/map.jinja" import collectd_settings with context -%}
#
# DO NOT EDIT
#
# This file is managed by salt via {{ source }}
# Modify the config that generates this file instead
#

LoadPlugin write_graphite

<Plugin "write_graphite">
 <Carbon>
   Host "{{ collectd_settings.plugins.write_graphite.carbon }}"
   Port "{{ collectd_settings.plugins.write_graphite.port }}"
{%- if collectd_settings.plugins.write_graphite.prefix %}
   Prefix "{{ collectd_settings.plugins.write_graphite.prefix }}"
{%- else %}
   Prefix "metrics."
{%- endif %}
   Protocol "{{ collectd_settings.plugins.write_graphite.protocol }}"
   EscapeCharacter "{{ collectd_settings.plugins.write_graphite.escapecharacter }}"
   SeparateInstances {{ collectd_settings.plugins.write_graphite.seperateinstances }}
   StoreRates {{ collectd_settings.plugins.write_graphite.storerates }}
   AlwaysAppendDS {{ collectd_settings.plugins.write_graphite.alwaysappendds }}
 </Carbon>
</Plugin>
